(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-22cf"],{"69Nf":function(e,t,a){var r=a("f4ri"),n=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},AMVC:function(e,t,a){"use strict";a.r(t);var r=a("rerW"),n=a.n(r),o=a("omC7"),i=a.n(o),l=a("dIpP"),c=a("k4ZD"),s=a("bvEp"),p=a("mvtb"),u=a("jk+O"),d={data:function(){return{buildingData:l.a,deptData:c.a,teacherTypeData:s.a,form:{teacherName:"",specialtyId:"",specialtyName:"",dept:"",phone:"",type:""},dormitoryData:[]}},methods:{onSubmit:function(){var e=this,t=["specialtyId"],a=JSON.parse(i()(this.form));for(var r in a)if(!t.includes(r)&&""===a[r])return void this.$message({type:"warning",message:"请完成表单"});console.log(this.dormitoryData,a.specialtyName);var o=!0,l=!1,c=void 0;try{for(var s,u=n()(this.dormitoryData);!(o=(s=u.next()).done);o=!0){var d=s.value;if(a.specialtyName===d.specialtyName){a.specialtyId=d.specialtyId;break}}}catch(e){l=!0,c=e}finally{try{!o&&u.return&&u.return()}finally{if(l)throw c}}a.specialtyId?Object(p.a)(a).then(function(t){e.form.teacherName="",e.form.phone="",e.$message({type:"success",message:"添加成功"})}):this.$message({type:"warning",message:"表单错误，请刷新重试"})},onDeptChange:function(e){var t=this;console.log(e),this.dormitoryData=[],this.form.specialtyId="",this.form.specialtyName="",Object(u.c)(e).then(function(e){t.dormitoryData=e.data})}},created:function(){}},m=(a("yHis"),a("ZrdR")),f=Object(m.a)(d,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("el-form",{ref:"form",staticStyle:{"max-width":"600px",width:"100%"},attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"系别"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择系别"},on:{change:e.onDeptChange},model:{value:e.form.dept,callback:function(t){e.$set(e.form,"dept",t)},expression:"form.dept"}},e._l(e.deptData,function(e){return a("el-option",{key:e.ID,attrs:{label:e.Name,value:e.Name}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"专业"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择专业"},model:{value:e.form.specialtyName,callback:function(t){e.$set(e.form,"specialtyName",t)},expression:"form.specialtyName"}},e._l(e.dormitoryData,function(e){return a("el-option",{key:e.specialtyId,attrs:{label:e.specialtyName,value:e.specialtyName}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"教师类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择教师类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.teacherTypeData,function(e){return a("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"教师名称"}},[a("el-input",{model:{value:e.form.teacherName,callback:function(t){e.$set(e.form,"teacherName",t)},expression:"form.teacherName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"教师电话"}},[a("el-input",{attrs:{type:"tel"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即创建")]),e._v(" "),a("el-button",[e._v("取消")])],1)],1)],1)],1)},[],!1,null,"fedbddda",null);f.options.__file="add.vue";t.default=f.exports},NZdd:function(e,t,a){},bvEp:function(e,t,a){"use strict";t.a=[{ID:1,Name:"辅导员"},{ID:2,Name:"导师"}]},dIpP:function(e,t,a){"use strict";t.a=[{ID:1,Name:"红棉楼"},{ID:2,Name:"黄槐楼"}]},hMFN:function(e,t,a){a("F7kz"),a("G9/w"),e.exports=a("u530")},"jk+O":function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"b",function(){return o}),a.d(t,"a",function(){return i});var r=a("t3Un");function n(e){return Object(r.a)({url:"/index/Specialtycontroller/getSpecialtyByDept",method:"get",params:{dept:e}})}function o(e){return Object(r.a)({url:"/index/Specialtycontroller/deleteSpecialty",method:"post",data:{specialtyId:e}})}function i(e){var t=e.dept,a=e.specialtyName;return Object(r.a)({url:"/index/Specialtycontroller/addSpecialty",method:"post",data:{dept:t,specialtyName:a}})}},k4ZD:function(e,t,a){"use strict";t.a=[{ID:1,Name:"外语系",PID:1},{ID:2,Name:"国贸系",PID:1},{ID:3,Name:"网络系",PID:1},{ID:4,Name:"游戏系"}]},mvtb:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"c",function(){return o}),a.d(t,"a",function(){return i});var r=a("t3Un");function n(e){var t=e.currentPage,a=void 0===t?1:t,n=e.pageSize,o=void 0===n?10:n;return Object(r.a)({url:"/index/Teachercontroller/getAllTeachers",method:"get",params:{currentPage:a,pageSize:o}})}function o(e){var t=e.teacherId,a=e.phone,n=e.type;return Object(r.a)({url:"/index/Teachercontroller/updateTeacherById",method:"post",data:{teacherId:t,phone:a,type:n}})}function i(e){var t=e.teacherName,a=e.specialtyId,n=e.specialtyName,o=e.dept,i=e.phone,l=e.type;return Object(r.a)({url:"/index.php/index/Teachercontroller/addTeacher",method:"post",data:{teacherName:t,specialtyId:a,specialtyName:n,dept:o,phone:i,type:l}})}},omC7:function(e,t,a){e.exports={default:a("69Nf"),__esModule:!0}},rerW:function(e,t,a){e.exports={default:a("hMFN"),__esModule:!0}},u530:function(e,t,a){var r=a("orZ+"),n=a("jRVY");e.exports=a("f4ri").getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},yHis:function(e,t,a){"use strict";var r=a("NZdd");a.n(r).a}}]);