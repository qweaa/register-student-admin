(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4aad"],{bvEp:function(e,t,a){"use strict";t.a=[{ID:1,Name:"辅导员"},{ID:2,Name:"导师"}]},cUGa:function(e,t,a){"use strict";a.r(t);var r=a("rerW"),n=a.n(r),o=a("mvtb"),l=a("bvEp"),i={data:function(){return{tableData:[],tableDataIndex:0,teacherTypeData:l.a,currentPage:1,pageSize:10,detailVisible:!1,formVisible:!1,form:{teacherId:"",phone:"",type:""}}},filters:{teacherTypeFilter:function(e){if(!e)return"";var t=!0,a=!1,r=void 0;try{for(var o,i=n()(l.a);!(t=(o=i.next()).done);t=!0){var c=o.value;if(c.ID===e)return c.Name}}catch(e){a=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw r}}return""}},methods:{getList:function(){var e=this;Object(o.b)({currentPage:this.currentPage,pageSize:this.pageSize}).then(function(t){e.tableData=t.data})},updateTeacher:function(e){var t=this;Object(o.c)(this.form).then(function(e){console.log("更新教师：",e),t.$message({type:"success",message:"修改成功!"}),t.tableData[t.tableDataIndex].phone=t.form.phone,t.tableData[t.tableDataIndex].type=t.form.type,t.formVisible=!1})},editer:function(e){this.tableDataIndex=e,this.form.teacherId=this.tableData[e].teacherId,this.form.phone=this.tableData[e].phone,this.form.type=this.tableData[e].type,this.formVisible=!0},del:function(){var e=this;this.$confirm("此操作将永久删除该学生信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}},created:function(){this.getList()}},c=(a("oeYm"),a("ZrdR")),s=Object(c.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-main",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"teacherId",label:"ID",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"teacherName",label:"教师姓名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"教师类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("teacherTypeFilter")(t.row.type)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"dept",label:"系别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specialtyName",label:"专业方向"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"联系电话"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.editer(t.$index)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"修改基本信息",visible:e.formVisible},on:{"update:visible":function(t){e.formVisible=t}}},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{attrs:{type:"number"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"教师类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择教师类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.teacherTypeData,function(e){return a("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.formVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.updateTeacher}},[e._v("确 定")])],1)],1)],1)],1)},[],!1,null,"056083fb",null);s.options.__file="list.vue";t.default=s.exports},hMFN:function(e,t,a){a("F7kz"),a("G9/w"),e.exports=a("u530")},i0D9:function(e,t,a){},mvtb:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"c",function(){return o}),a.d(t,"a",function(){return l});var r=a("t3Un");function n(e){var t=e.currentPage,a=void 0===t?1:t,n=e.pageSize,o=void 0===n?10:n;return Object(r.a)({url:"/index/Teachercontroller/getAllTeachers",method:"get",params:{currentPage:a,pageSize:o}})}function o(e){var t=e.teacherId,a=e.phone,n=e.type;return Object(r.a)({url:"/index/Teachercontroller/updateTeacherById",method:"post",data:{teacherId:t,phone:a,type:n}})}function l(e){var t=e.teacherName,a=e.specialtyId,n=e.specialtyName,o=e.dept,l=e.phone,i=e.type;return Object(r.a)({url:"/index.php/index/Teachercontroller/addTeacher",method:"post",data:{teacherName:t,specialtyId:a,specialtyName:n,dept:o,phone:l,type:i}})}},oeYm:function(e,t,a){"use strict";var r=a("i0D9");a.n(r).a},rerW:function(e,t,a){e.exports={default:a("hMFN"),__esModule:!0}},u530:function(e,t,a){var r=a("orZ+"),n=a("jRVY");e.exports=a("f4ri").getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}}}]);