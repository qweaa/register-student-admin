(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1c8c"],{"64QR":function(t,e,n){"use strict";n.r(e);var a=n("omC7"),o=n.n(a),l=n("yvbL"),r={data:function(){return{tableData:[],tableDataIndex:0,currentPage:1,pageSize:10,dept:""}},methods:{getList:function(t){var e=this;Object(l.b)({currentPage:this.currentPage,pageSize:this.pageSize}).then(function(t){e.tableData=t.data})},del:function(t,e){var n=this;this.$confirm("此操作将永久删除该帖子, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(l.a)(e).then(function(e){n.tableData.splice(t,1),n.$message({type:"success",message:"删除成功!"})})}).catch()},gotoComments:function(t,e){window.localStorage.setItem("postData",o()(this.tableData[t])),this.$router.push({name:"articleComments",query:{postid:e}})}},created:function(){this.getList()}},i=n("ZrdR"),s=Object(i.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-main",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[n("el-table-column",{attrs:{prop:"postId",label:"ID",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"title",label:"标题"}}),t._v(" "),n("el-table-column",{attrs:{prop:"createTime",label:"发布时间"}}),t._v(" "),n("el-table-column",{attrs:{prop:"poster",label:"发布者"}}),t._v(" "),n("el-table-column",{attrs:{prop:"read",label:"阅读数"}}),t._v(" "),n("el-table-column",{attrs:{prop:"likes",label:"点赞数"}}),t._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticStyle:{color:"#F56C6C"},attrs:{type:"text",size:"small"},on:{click:function(n){t.del(e.$index,e.row.postId)}}},[t._v("删除")]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){t.gotoComments(e.$index,e.row.postId)}}},[t._v("内容及回复")])]}}])})],1)],1)],1)},[],!1,null,null,null);s.options.__file="list.vue";e.default=s.exports},"69Nf":function(t,e,n){var a=n("f4ri"),o=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},omC7:function(t,e,n){t.exports={default:n("69Nf"),__esModule:!0}},yvbL:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return l}),n.d(e,"c",function(){return r});var a=n("t3Un");function o(t){var e=t.currentPage,n=void 0===e?1:e,o=t.pageSize,l=void 0===o?10:o;return Object(a.a)({url:"/index.php/index/Postcontroller/getAllPost",method:"get",params:{currentPage:n,pageSize:l}})}function l(t){return Object(a.a)({url:"/index.php/index/Postcontroller/deletePostById",method:"post",data:{postId:t}})}function r(t){return Object(a.a)({url:"/index.php/index/Replycontroller/getReplyByPostid",method:"post",data:{postId:t}})}}}]);