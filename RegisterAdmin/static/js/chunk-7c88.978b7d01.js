(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7c88"],{"57f4":function(e,t,r){"use strict";r.r(t);var a=r("omC7"),o=r.n(a),n=r("rerW"),l=r.n(n),i=r("k4ZD"),c=r("SeWE"),u=r("jk+O"),m=r("mvtb"),s={data:function(){return{deptData:i.a,form:{studentName:"",ticketNumber:"",IDnumber:"",specialtyId:"",specialtyName:"",dept:"",dormitoryId:"",dormitoryName:"",tutorId:"",tutorName:"",graduate:"",address:"",father:"",fatherPhone:"",mother:"",motherPhone:""},formModel:{studentName:"测试",ticketNumber:"4401542121564156454",IDnumber:"44015613215645646",specialtyId:"",specialtyName:"",dept:"",dormitoryId:"1",dormitoryName:"R340",tutorId:"1",tutorName:"",graduate:"广州六中",address:"广东广州越秀",father:"李刚",fatherPhone:"137265556565",mother:"李梅",motherPhone:"134564654645"},specialtyData:[],specialtyDataIndex:0,tutor:[],instructor:[{ID:1,Name:"曹璐婷"},{ID:2,Name:"李Sir"}]}},methods:{getTeacher:function(){var e=this;Object(m.b)({currentPage:1,pageSize:1e4}).then(function(t){console.log("教师：",t),e.tutor=t.data})},getName:function(e,t,r,a){if(!a||!a.length)return"";var o="",n=!0,i=!1,c=void 0;try{for(var u,m=l()(a);!(n=(u=m.next()).done);n=!0){var s=u.value;s[t]==e&&(o=s[r])}}catch(e){i=!0,c=e}finally{try{!n&&m.return&&m.return()}finally{if(i)throw c}}return o},onSubmit:function(){var e=this,t=JSON.parse(o()(this.form)),r=this.getName(t.specialtyId,"specialtyId","specialtyName",this.specialtyData),a=this.getName(t.tutorId,"teacherId","teacherName",this.tutor);for(var n in t.specialtyName=r,t.tutorName=a,t.dormitoryId=1,t)if(""===t[n])return void this.$message({type:"warning",message:"请填写表单"});Object(c.a)(t).then(function(t){e.resetForm(),e.$message({type:"success",message:"添加成功"}),console.log("添加学生：",t)})},onDeptChange:function(e){var t=this;this.form.specialtyId="",this.specialtyData="",Object(u.c)(e).then(function(e){t.specialtyData=e.data})},resetForm:function(){for(var e in this.form)this.form[e]=""}},created:function(){this.getTeacher()}},d=(r("WQ/c"),r("ZrdR")),f=Object(d.a)(s,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",[r("el-main",[r("el-form",{ref:"form",staticStyle:{"max-width":"600px",width:"100%"},attrs:{model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"学生姓名"}},[r("el-input",{model:{value:e.form.studentName,callback:function(t){e.$set(e.form,"studentName",t)},expression:"form.studentName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"准考证号"}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.ticketNumber,callback:function(t){e.$set(e.form,"ticketNumber",t)},expression:"form.ticketNumber"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"毕业中学"}},[r("el-input",{model:{value:e.form.graduate,callback:function(t){e.$set(e.form,"graduate",t)},expression:"form.graduate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"身份证号"}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.IDnumber,callback:function(t){e.$set(e.form,"IDnumber",t)},expression:"form.IDnumber"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"系别"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:e.onDeptChange},model:{value:e.form.dept,callback:function(t){e.$set(e.form,"dept",t)},expression:"form.dept"}},e._l(e.deptData,function(e){return r("el-option",{key:e.ID,attrs:{label:e.Name,value:e.Name}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"班级"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请先选择系别"},model:{value:e.form.specialtyId,callback:function(t){e.$set(e.form,"specialtyId",t)},expression:"form.specialtyId"}},e._l(e.specialtyData,function(e){return r("el-option",{key:e.specialtyId,attrs:{label:e.specialtyName,value:e.specialtyId}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"宿舍"}},[r("el-input",{model:{value:e.form.dormitoryName,callback:function(t){e.$set(e.form,"dormitoryName",t)},expression:"form.dormitoryName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"导师"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.tutorId,callback:function(t){e.$set(e.form,"tutorId",t)},expression:"form.tutorId"}},e._l(e.tutor,function(e){return r("el-option",{key:e.teacherId,attrs:{label:e.teacherName,value:e.teacherId}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"地址"}},[r("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"父亲"}},[r("el-input",{model:{value:e.form.father,callback:function(t){e.$set(e.form,"father",t)},expression:"form.father"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"父亲电话"}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.fatherPhone,callback:function(t){e.$set(e.form,"fatherPhone",t)},expression:"form.fatherPhone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"母亲"}},[r("el-input",{model:{value:e.form.mother,callback:function(t){e.$set(e.form,"mother",t)},expression:"form.mother"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"母亲电话"}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.motherPhone,callback:function(t){e.$set(e.form,"motherPhone",t)},expression:"form.motherPhone"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即创建")]),e._v(" "),r("el-button",{on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)],1)},[],!1,null,"181ed42c",null);f.options.__file="add.vue";t.default=f.exports},"69Nf":function(e,t,r){var a=r("f4ri"),o=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},HLE2:function(e,t,r){},SeWE:function(e,t,r){"use strict";r.d(t,"c",function(){return o}),r.d(t,"a",function(){return n}),r.d(t,"d",function(){return l}),r.d(t,"b",function(){return i});var a=r("t3Un");function o(e){var t=e.currentPage,r=void 0===t?1:t,o=e.pageSize,n=void 0===o?10:o;return Object(a.a)({url:"/index.php/index/Studentcontroller/getAllStudents",method:"get",params:{currentPage:r,pageSize:n}})}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)({url:"/index/Studentcontroller/addStudent",method:"post",data:e})}function l(e){var t=e.studentId,r=e.graduate,o=e.fatherPhone,n=e.motherPhone;return Object(a.a)({url:"/index/Studentcontroller/updateStudentById",method:"post",data:{studentId:t,graduate:r,fatherPhone:o,motherPhone:n}})}function i(e){return Object(a.a)({url:"/index/Studentcontroller/deleteStudentById",method:"post",data:{studentId:e}})}},"WQ/c":function(e,t,r){"use strict";var a=r("HLE2");r.n(a).a},hMFN:function(e,t,r){r("F7kz"),r("G9/w"),e.exports=r("u530")},"jk+O":function(e,t,r){"use strict";r.d(t,"c",function(){return o}),r.d(t,"b",function(){return n}),r.d(t,"a",function(){return l});var a=r("t3Un");function o(e){return Object(a.a)({url:"/index/Specialtycontroller/getSpecialtyByDept",method:"get",params:{dept:e}})}function n(e){return Object(a.a)({url:"/index/Specialtycontroller/deleteSpecialty",method:"post",data:{specialtyId:e}})}function l(e){var t=e.dept,r=e.specialtyName;return Object(a.a)({url:"/index/Specialtycontroller/addSpecialty",method:"post",data:{dept:t,specialtyName:r}})}},k4ZD:function(e,t,r){"use strict";t.a=[{ID:1,Name:"外语系",PID:1},{ID:2,Name:"国贸系",PID:1},{ID:3,Name:"网络系",PID:1},{ID:4,Name:"游戏系"}]},mvtb:function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"c",function(){return n}),r.d(t,"a",function(){return l});var a=r("t3Un");function o(e){var t=e.currentPage,r=void 0===t?1:t,o=e.pageSize,n=void 0===o?10:o;return Object(a.a)({url:"/index/Teachercontroller/getAllTeachers",method:"get",params:{currentPage:r,pageSize:n}})}function n(e){var t=e.teacherId,r=e.phone,o=e.type;return Object(a.a)({url:"/index/Teachercontroller/updateTeacherById",method:"post",data:{teacherId:t,phone:r,type:o}})}function l(e){var t=e.teacherName,r=e.specialtyId,o=e.specialtyName,n=e.dept,l=e.phone,i=e.type;return Object(a.a)({url:"/index.php/index/Teachercontroller/addTeacher",method:"post",data:{teacherName:t,specialtyId:r,specialtyName:o,dept:n,phone:l,type:i}})}},omC7:function(e,t,r){e.exports={default:r("69Nf"),__esModule:!0}},rerW:function(e,t,r){e.exports={default:r("hMFN"),__esModule:!0}},u530:function(e,t,r){var a=r("orZ+"),o=r("jRVY");e.exports=r("f4ri").getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return a(t.call(e))}}}]);